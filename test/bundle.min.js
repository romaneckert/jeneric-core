(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Kernel = require('./kernel');

/** all classes extends the abstract class.
 * @abstract
 */

var Abstract = function () {
    function Abstract() {
        _classCallCheck(this, Abstract);

        this._kernel = null;
    }

    /**
     * the application kernel
     * @returns {Kernel}
     */


    _createClass(Abstract, [{
        key: 'kernel',
        get: function get() {
            return null === this._kernel ? this._kernel = new Kernel() : this._kernel;
        }

        /**
         * all registered components
         */

    }, {
        key: 'modules',
        get: function get() {
            return this.kernel.modules;
        }
    }, {
        key: 'config',
        get: function get() {
            return this.kernel.config;
        }
    }]);

    return Abstract;
}();

module.exports = Abstract;

},{"./kernel":3}],2:[function(require,module,exports){
'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Abstract = require('./abstract');

/** the main application class have to extend the application class. */

var Application = function (_Abstract) {
    _inherits(Application, _Abstract);

    function Application() {
        _classCallCheck(this, Application);

        return _possibleConstructorReturn(this, (Application.__proto__ || Object.getPrototypeOf(Application)).call(this));
    }

    return Application;
}(Abstract);

module.exports = Application;

},{"./abstract":1}],3:[function(require,module,exports){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Modules = require('./modules');

var Kernel = function () {
    function Kernel() {
        _classCallCheck(this, Kernel);

        this._config = {};
        this._modules = new Modules();
    }

    _createClass(Kernel, [{
        key: 'config',
        get: function get() {
            return this._config;
        }
    }, {
        key: 'modules',
        get: function get() {
            return this._modules;
        }
    }]);

    return Kernel;
}();

module.exports = Kernel;

},{"./modules":4}],4:[function(require,module,exports){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Modules = function () {
    function Modules() {
        _classCallCheck(this, Modules);

        return new Proxy(this, this);
    }

    _createClass(Modules, [{
        key: 'get',
        value: function get(target, module) {

            if ('undefined' === typeof this['_' + module]) {

                var isCoreModule = false;
                var moduleClass = null;

                // try to find module in global scope as jeneric module
                try {
                    moduleClass = require('@jeneric/' + module);
                    isCoreModule = true;
                } catch (e) {
                    isCoreModule = false;
                }

                // try to find module in local scope
                if (!isCoreModule) {
                    try {

                        console.log('./test/app/modules/custom');
                        console.log('./test/app/modules/' + module);

                        //moduleClass = require('./test/app/modules/custom');

                        var path = './test/app/modules/' + module;
                        //path = './test/app/modules/custom';

                        console.log(path);

                        moduleClass = require(path);
                    } catch (e) {

                        console.log(e);

                        throw new Error('can not find module ' + module + ' in global and local scope - do you have installed @jeneric/' + module + ' or created a module app/modules/' + module + '.js');
                    }
                }

                this['_' + module] = eval("new moduleClass()");
            }

            return this['_' + module];
        }
    }]);

    return Modules;
}();

module.exports = Modules;

},{}],5:[function(require,module,exports){
'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Application = require('../application');

var Main = function (_Application) {
    _inherits(Main, _Application);

    function Main() {
        _classCallCheck(this, Main);

        var _this = _possibleConstructorReturn(this, (Main.__proto__ || Object.getPrototypeOf(Main)).call(this));

        console.log(_this.modules.custom);

        return _this;
    }

    return Main;
}(Application);

var main = new Main();

},{"../application":2}]},{},[5])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhYnN0cmFjdC5qcyIsImFwcGxpY2F0aW9uLmpzIiwia2VybmVsLmpzIiwibW9kdWxlcy5qcyIsInRlc3QvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQSxJQUFNLFNBQVMsUUFBUSxVQUFSLENBQWY7O0FBRUE7Ozs7SUFHTSxRO0FBRUYsd0JBQWM7QUFBQTs7QUFDVixhQUFLLE9BQUwsR0FBZSxJQUFmO0FBQ0g7O0FBRUQ7Ozs7Ozs7OzRCQUlhO0FBQ1QsbUJBQVEsU0FBUyxLQUFLLE9BQWYsR0FBMEIsS0FBSyxPQUFMLEdBQWUsSUFBSSxNQUFKLEVBQXpDLEdBQXdELEtBQUssT0FBcEU7QUFDSDs7QUFFRDs7Ozs7OzRCQUdjO0FBQ1YsbUJBQU8sS0FBSyxNQUFMLENBQVksT0FBbkI7QUFDSDs7OzRCQUVZO0FBQ1QsbUJBQU8sS0FBSyxNQUFMLENBQVksTUFBbkI7QUFDSDs7Ozs7O0FBSUwsT0FBTyxPQUFQLEdBQWlCLFFBQWpCOzs7Ozs7Ozs7OztBQ2hDQSxJQUFNLFdBQVcsUUFBUSxZQUFSLENBQWpCOztBQUVBOztJQUNNLFc7OztBQUNGLDJCQUFjO0FBQUE7O0FBQUE7QUFFYjs7O0VBSHFCLFE7O0FBTTFCLE9BQU8sT0FBUCxHQUFpQixXQUFqQjs7Ozs7Ozs7O0FDVEEsSUFBTSxVQUFVLFFBQVEsV0FBUixDQUFoQjs7SUFFTSxNO0FBRUYsc0JBQWM7QUFBQTs7QUFDVixhQUFLLE9BQUwsR0FBZSxFQUFmO0FBQ0EsYUFBSyxRQUFMLEdBQWdCLElBQUksT0FBSixFQUFoQjtBQUNIOzs7OzRCQUVZO0FBQ1QsbUJBQU8sS0FBSyxPQUFaO0FBQ0g7Ozs0QkFFYTtBQUNWLG1CQUFPLEtBQUssUUFBWjtBQUNIOzs7Ozs7QUFJTCxPQUFPLE9BQVAsR0FBaUIsTUFBakI7Ozs7Ozs7OztJQ25CTSxPO0FBRUYsdUJBQWM7QUFBQTs7QUFDVixlQUFPLElBQUksS0FBSixDQUFVLElBQVYsRUFBZ0IsSUFBaEIsQ0FBUDtBQUNIOzs7OzRCQUVJLE0sRUFBUSxNLEVBQVE7O0FBRWpCLGdCQUFHLGdCQUFnQixPQUFPLEtBQUssTUFBTSxNQUFYLENBQTFCLEVBQThDOztBQUUxQyxvQkFBSSxlQUFlLEtBQW5CO0FBQ0Esb0JBQUksY0FBYyxJQUFsQjs7QUFFQTtBQUNBLG9CQUFJO0FBQ0Esa0NBQWMsUUFBUSxjQUFjLE1BQXRCLENBQWQ7QUFDQSxtQ0FBZSxJQUFmO0FBQ0gsaUJBSEQsQ0FHRSxPQUFPLENBQVAsRUFBVTtBQUNSLG1DQUFlLEtBQWY7QUFDSDs7QUFFRDtBQUNBLG9CQUFHLENBQUMsWUFBSixFQUFrQjtBQUNkLHdCQUFJOztBQUVBLGdDQUFRLEdBQVIsQ0FBWSwyQkFBWjtBQUNBLGdDQUFRLEdBQVIsQ0FBWSx3QkFBd0IsTUFBcEM7O0FBRUE7O0FBRUEsNEJBQUksT0FBTyx3QkFBd0IsTUFBbkM7QUFDQTs7QUFFQSxnQ0FBUSxHQUFSLENBQVksSUFBWjs7QUFFQSxzQ0FBYyxRQUFRLElBQVIsQ0FBZDtBQUNILHFCQWJELENBYUUsT0FBTyxDQUFQLEVBQVU7O0FBRVIsZ0NBQVEsR0FBUixDQUFZLENBQVo7O0FBRUEsOEJBQU0sSUFBSSxLQUFKLDBCQUFpQyxNQUFqQyxvRUFBc0csTUFBdEcseUNBQWdKLE1BQWhKLFNBQU47QUFDSDtBQUNKOztBQUVELHFCQUFLLE1BQU0sTUFBWCxJQUFxQixLQUFLLG1CQUFMLENBQXJCO0FBQ0g7O0FBRUQsbUJBQU8sS0FBSyxNQUFNLE1BQVgsQ0FBUDtBQUNIOzs7Ozs7QUFHTCxPQUFPLE9BQVAsR0FBaUIsT0FBakI7Ozs7Ozs7Ozs7O0FDbkRBLElBQU0sY0FBYyxRQUFRLGdCQUFSLENBQXBCOztJQUVNLEk7OztBQUNGLG9CQUFjO0FBQUE7O0FBQUE7O0FBSVYsZ0JBQVEsR0FBUixDQUFZLE1BQUssT0FBTCxDQUFhLE1BQXpCOztBQUpVO0FBTWI7OztFQVBjLFc7O0FBVW5CLElBQUksT0FBTyxJQUFJLElBQUosRUFBWCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjb25zdCBLZXJuZWwgPSByZXF1aXJlKCcuL2tlcm5lbCcpO1xuXG4vKiogYWxsIGNsYXNzZXMgZXh0ZW5kcyB0aGUgYWJzdHJhY3QgY2xhc3MuXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgQWJzdHJhY3Qge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2tlcm5lbCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGhlIGFwcGxpY2F0aW9uIGtlcm5lbFxuICAgICAqIEByZXR1cm5zIHtLZXJuZWx9XG4gICAgICovXG4gICAgZ2V0IGtlcm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIChudWxsID09PSB0aGlzLl9rZXJuZWwpID8gdGhpcy5fa2VybmVsID0gbmV3IEtlcm5lbCgpIDogdGhpcy5fa2VybmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFsbCByZWdpc3RlcmVkIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBnZXQgbW9kdWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2VybmVsLm1vZHVsZXM7XG4gICAgfVxuXG4gICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2VybmVsLmNvbmZpZztcbiAgICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBYnN0cmFjdDsiLCJjb25zdCBBYnN0cmFjdCA9IHJlcXVpcmUoJy4vYWJzdHJhY3QnKTtcblxuLyoqIHRoZSBtYWluIGFwcGxpY2F0aW9uIGNsYXNzIGhhdmUgdG8gZXh0ZW5kIHRoZSBhcHBsaWNhdGlvbiBjbGFzcy4gKi9cbmNsYXNzIEFwcGxpY2F0aW9uIGV4dGVuZHMgQWJzdHJhY3Qge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBcHBsaWNhdGlvbjsiLCJjb25zdCBNb2R1bGVzID0gcmVxdWlyZSgnLi9tb2R1bGVzJyk7XG5cbmNsYXNzIEtlcm5lbCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0ge307XG4gICAgICAgIHRoaXMuX21vZHVsZXMgPSBuZXcgTW9kdWxlcygpO1xuICAgIH1cblxuICAgIGdldCBjb25maWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgfVxuXG4gICAgZ2V0IG1vZHVsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2R1bGVzO1xuICAgIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEtlcm5lbDsiLCJjbGFzcyBNb2R1bGVzIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KHRoaXMsIHRoaXMpO1xuICAgIH1cblxuICAgIGdldCAodGFyZ2V0LCBtb2R1bGUpIHtcblxuICAgICAgICBpZigndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHRoaXNbJ18nICsgbW9kdWxlXSkge1xuXG4gICAgICAgICAgICBsZXQgaXNDb3JlTW9kdWxlID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgbW9kdWxlQ2xhc3MgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyB0cnkgdG8gZmluZCBtb2R1bGUgaW4gZ2xvYmFsIHNjb3BlIGFzIGplbmVyaWMgbW9kdWxlXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG1vZHVsZUNsYXNzID0gcmVxdWlyZSgnQGplbmVyaWMvJyArIG1vZHVsZSk7XG4gICAgICAgICAgICAgICAgaXNDb3JlTW9kdWxlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpc0NvcmVNb2R1bGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdHJ5IHRvIGZpbmQgbW9kdWxlIGluIGxvY2FsIHNjb3BlXG4gICAgICAgICAgICBpZighaXNDb3JlTW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLi90ZXN0L2FwcC9tb2R1bGVzL2N1c3RvbScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLi90ZXN0L2FwcC9tb2R1bGVzLycgKyBtb2R1bGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kdWxlQ2xhc3MgPSByZXF1aXJlKCcuL3Rlc3QvYXBwL21vZHVsZXMvY3VzdG9tJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGggPSAnLi90ZXN0L2FwcC9tb2R1bGVzLycgKyBtb2R1bGU7XG4gICAgICAgICAgICAgICAgICAgIC8vcGF0aCA9ICcuL3Rlc3QvYXBwL21vZHVsZXMvY3VzdG9tJztcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXRoKTtcblxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVDbGFzcyA9IHJlcXVpcmUocGF0aCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2FuIG5vdCBmaW5kIG1vZHVsZSAke21vZHVsZX0gaW4gZ2xvYmFsIGFuZCBsb2NhbCBzY29wZSAtIGRvIHlvdSBoYXZlIGluc3RhbGxlZCBAamVuZXJpYy8ke21vZHVsZX0gb3IgY3JlYXRlZCBhIG1vZHVsZSBhcHAvbW9kdWxlcy8ke21vZHVsZX0uanNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXNbJ18nICsgbW9kdWxlXSA9IGV2YWwoXCJuZXcgbW9kdWxlQ2xhc3MoKVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzWydfJyArIG1vZHVsZV07XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZHVsZXM7IiwiY29uc3QgQXBwbGljYXRpb24gPSByZXF1aXJlKCcuLi9hcHBsaWNhdGlvbicpO1xuXG5jbGFzcyBNYWluIGV4dGVuZHMgQXBwbGljYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgY29uc29sZS5sb2codGhpcy5tb2R1bGVzLmN1c3RvbSk7XG5cbiAgICB9XG59XG5cbmxldCBtYWluID0gbmV3IE1haW4oKTsiXX0=
